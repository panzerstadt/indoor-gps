{"version":3,"sources":["App.module.css","assets/LeafletMap/maps/map-01-med-cropped.png","components/atoms/Camera/index.module.css","dataset/class_coords.csv","logo.svg","assets/LeafletMap/icons sync /^/.//.*/.svg$","assets/LeafletMap/icons/arrow.svg","assets/LeafletMap/icons/grapes.svg","assets/LeafletMap/icons/location-blue.svg","assets/LeafletMap/icons/location-green.svg","assets/LeafletMap/icons/location-red.svg","assets/LeafletMap/icons/tomato.svg","components/UI/index.module.css","components/atoms/Button/index.module.css","components/Map/Icons/index.js","components/Map/components/LeafletMap.js","components/Map/utils/Nearby.js","components/Map/index.js","components/Card/index.js","components/atoms/Camera/index.js","components/atoms/Information/index.js","components/atoms/Predictor/index.js","components/useHooks/index.js","components/atoms/Button/index.js","components/atoms/Carousel/index.js","components/UI/index.js","App.js","serviceWorker.js","index.js","components/Card/index.module.css","components/Map/index.module.css"],"names":["module","exports","logo","App-logo-spin","logoBG","app","__webpack_require__","p","cameraDiv","map","./arrow.svg","./grapes.svg","./location-blue.svg","./location-green.svg","./location-red.svg","./tomato.svg","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","main","buttonDiv","carouselDiv","discoverDiv","button","buttonLeft","buttonRight","MainIcon","name","arguments","length","undefined","size","out","iconAnchor","popupAnchor","arrow","L","Icon","iconUrl","require","concat","iconSize","MED_MAP_BOUNDS","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","shadowUrl","Markers","_ref","points","labels","icons","alwaysOpenPopup","openPopup","marker","leafletElement","window","setTimeout","pinLbls","toConsumableArray","Array","i","react_default","a","createElement","Marker","key","position","icon","ref","Popup","closestObjects","point","appState","count","topN","first","others","output","v","index","value","isArray","Math","sqrt","pow","lat","lng","sort","x","y","Nearby","dataset","slice","filter","w","pins","lbls","label","LeafletMap","props","nearby","height","useContext","MainContext","setPoint","setClosestList","_closestObjects","useEffect","search","console","log","_findObject","findObject","handleUpdateLocation","localMapBounds","Map","center","zoom","minZoom","maxZoom","style","width","onClick","latlng","crs","CRS","Simple","ImageOverlay","alt","url","PNG_MAP","bounds","LeafletMap_Markers","round","components_Map","data","children","className","styles","components_LeafletMap","zIndex","pointerEvents","Card","text","onExit","blurOnButtonOnly","hideExitButton","cardDivRef","useRef","exitCard","currentTarget","tagName","relatedTarget","split","current","focus","card","tabIndex","onBlur","exitButton","WebcamComponent","onRef","webcamRef","_useState","useState","_useState2","slicedToArray","cameraReady","setCameraReady","setupCamera","_ref2","asyncToGenerator","regenerator_default","mark","_callee","e1","wrap","_context","prev","next","navigator","mediaDevices","getUserMedia","Camera_this","setState","error_messages","video","onloadedmetadata","stop","this","apply","react_webcam_default","audio","screenshotFormat","WIKI_URL","query","dataFetchReducer","state","action","type","objectSpread","isLoading","error","payload","FetchAndDisplay","_useState5","_useState6","_useFetch","initialUrl","initialData","hits","_useState3","_useState4","setUrl","_useReducer","useReducer","_useReducer2","dispatch","didCancel","result","axios","sent","t0","message","fetchData","doFetch","useFetch","LoadingOrEror","color","Fragment","loadingOrError","loadModel","tf","abrupt","preprocess","imgData","tensor","fromPixels","resized","resizeBilinear","toFloat","offset","div","sub","mul","expandDims","Predictor","videoRef","onPrediction","predictor","setPredictor","classes","setClasses","_ref3","_callee2","model","_context2","fetch","then","r","s","load","isDetecting","setIsDetecting","_useState7","_useState8","detectionDelay","callback","delay","savedCallback","setInterval","clearInterval","useInterval","detect","_useState9","_useState10","setGuesses","_useState11","_useState12","topGuess","setTopGuess","_ref4","_callee3","canvas","processed","pred","predictions","dinos","_context3","document","videoWidth","videoHeight","getContext","drawImage","predict","dataSync","values","reverse","getClassNames","setSearch","indices","outp","backgroundColor","overflowY","Information","Button","_ref$inputs","inputs","onSubmit","btns","Carousel","React","createRef","addEventListener","touchStart","preventTouch","passive","removeEventListener","firstClientX","touches","clientX","firstClientY","clientY","target","offsetParent","abs","preventDefault","returnValue","_unused","lib_default","assign","settings","Component","defaultProps","minValue","ExploreCard","carouselSettings","arrows","infinite","slidesToShow","slidesToScroll","nearestLbls","closestList","exploreDiv","Carousel_Carousel","margin","padding","href","rel","DiscoverCard","setPred","setVideoRef","Camera","onTakePhoto","dataURI","atoms_Predictor","Buttons","atoms_Button","UI","currentPage","setCurrentPage","pages","components_Card","UI_ExploreCard","UI_DiscoverCard","UI_Buttons","CardLayer","UI_UI","createContext","App","_useCsvData","initialFilepath","setData","loadCsv","f","csv","filepath","setFilepath","useCsvData","_useCsvData2","photo","setPhoto","Provider","components_UI","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.83e4d7b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"App_logo__30VG7\",\"App-logo-spin\":\"App_App-logo-spin__qJ1EI\",\"logoBG\":\"App_logoBG__2thSm\",\"app\":\"App_app__1XhhN\"};","module.exports = __webpack_public_path__ + \"static/media/map-01-med-cropped.eb12cece.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cameraDiv\":\"Camera_cameraDiv__Kglyi\"};","module.exports = __webpack_public_path__ + \"static/media/class_coords.05c81209.csv\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","var map = {\n\t\"./arrow.svg\": 142,\n\t\"./grapes.svg\": 143,\n\t\"./location-blue.svg\": 144,\n\t\"./location-green.svg\": 145,\n\t\"./location-red.svg\": 146,\n\t\"./tomato.svg\": 147\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 141;","module.exports = __webpack_public_path__ + \"static/media/arrow.7f41c8e0.svg\";","module.exports = __webpack_public_path__ + \"static/media/grapes.11be6a40.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-blue.42d5da8a.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-green.fc82852f.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-red.6c8c363d.svg\";","module.exports = __webpack_public_path__ + \"static/media/tomato.ba199f9c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"UI_main__XVD77\",\"buttonDiv\":\"UI_buttonDiv__3FU_B\",\"carouselDiv\":\"UI_carouselDiv__2XtUN\",\"discoverDiv\":\"UI_discoverDiv__2xFvL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonDiv\":\"Button_buttonDiv__994C-\",\"button\":\"Button_button__xwqJU\",\"buttonLeft\":\"Button_buttonLeft__2lenD Button_button__xwqJU\",\"buttonRight\":\"Button_buttonRight__14hzO Button_button__xwqJU\"};","import L from \"leaflet\";\n\nconst size = 30;\n\nexport const MainIcon = (name = \"tomato\", size) => {\n  let out = {\n    iconAnchor: [],\n    popupAnchor: []\n  };\n\n  const fruit = name === \"tomato\" || name === \"grapes\";\n  const arrow = name === \"arrow\";\n\n  if (fruit) {\n    out.iconAnchor = [0, size];\n    out.popupAnchor = [0.5 * size, -size];\n  } else if (arrow) {\n    out.iconAnchor = [size, size];\n    out.popupAnchor = [-0.5 * size, -size];\n  } else {\n    out.iconAnchor = [0.5 * size, size];\n    out.popupAnchor = [0, -size];\n  }\n\n  return new L.Icon({\n    iconUrl: require(`../../../assets/LeafletMap/icons/${name}.svg`),\n\n    iconSize: [size, size],\n    iconAnchor: out.iconAnchor,\n    popupAnchor: out.popupAnchor\n  });\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { Map, Marker, Popup, TileLayer, ImageOverlay } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n// styles\nimport \"../styles/leaflet.css\";\n\n// context api\nimport { MainContext } from \"../../../App\";\n\n// components\nimport { Nearby } from \"../utils/Nearby\";\nimport { MainIcon } from \"../Icons/index\";\n\n// image\nimport PNG_MAP from \"../../../assets/LeafletMap/maps/map-01-med-cropped.png\";\nconst LRG_MAP_BOUNDS = [[0, 0], [100, 400]];\nconst MED_MAP_BOUNDS = [[0, 0], [2500, 2738]];\n\n// the bug where the pins don't show\n// https://github.com/PaulLeCam/react-leaflet/issues/453\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\")\n});\n\nconst Markers = ({ points, labels, icons, alwaysOpenPopup }) => {\n  const openPopup = marker => {\n    if (marker && marker.leafletElement && alwaysOpenPopup) {\n      window.setTimeout(() => {\n        marker.leafletElement.openPopup();\n      });\n    }\n  };\n\n  if (!points || points.length === 0) return null;\n\n  if (points[0].length !== 2) {\n    throw \"points are not in an array of [lat, lng], cannot create Marker!\";\n  }\n\n  const pinLbls = labels\n    ? labels\n    : [...Array(points.length)].map(() => \"label\");\n\n  if (icons) {\n    return points.map((p, i) => (\n      <Marker key={i} position={p} icon={icons[i]} ref={openPopup}>\n        <Popup>{pinLbls[i]}</Popup>\n      </Marker>\n    ));\n  } else {\n    return points.map((p, i) => (\n      <Marker key={i} position={p} ref={openPopup}>\n        <Popup>{pinLbls[i]}</Popup>\n      </Marker>\n    ));\n  }\n};\n\nconst closestObjects = (point, appState, count = 3) => {\n  const dataPos = appState.dataset.map(v => [v.x, v.y]);\n  const closestIndices = Nearby(point, dataPos);\n\n  const topN = closestIndices.slice(0, count);\n\n  const closestObjects = appState.dataset.filter(\n    (v, i) => topN.filter(w => w === i).length > 0\n  );\n\n  const closestPins = closestObjects.map(v => [v.x, v.y]);\n  const closestLbls = closestObjects.map(v => v.label);\n\n  const output = { pins: closestPins, lbls: closestLbls };\n  return output;\n};\n\nconst findObject = (name, appState) => {\n  const output = appState.dataset.filter(v => v.label === name)[0];\n\n  return { lat: output.x, lng: output.y };\n};\n\nconst LeafletMap = props => {\n  let nearby;\n  const { height } = props;\n\n  const appState = useContext(MainContext);\n\n  let { point, setPoint } = appState;\n  let { setClosestList } = appState;\n\n  // markers\n  // assumes one point as input\n  const { pins, lbls } = closestObjects(point, appState, 5);\n\n  // didmount\n  useEffect(() => {\n    setClosestList({ pins, lbls });\n  }, []);\n\n  // CNN assisted geolocation\n  const { search } = appState;\n  useEffect(() => {\n    const handleUpdateLocation = () => {\n      console.log(search);\n\n      const updatedLabel = search;\n\n      const { lat, lng } = findObject(updatedLabel, appState);\n      setPoint([lat, lng]);\n\n      nearby = closestObjects([lat, lng], appState, 5);\n      setClosestList(nearby);\n    };\n\n    if (search !== \"\") {\n      handleUpdateLocation();\n    }\n  }, [search]);\n\n  // manual geolocation\n  const handleMapClick = e => {\n    //alert(\"clicked! at \" + e.latlng.lat + \" \" + e.latlng.lng);\n    setPoint([e.latlng.lat, e.latlng.lng]);\n\n    nearby = closestObjects([e.latlng.lat, e.latlng.lng], appState, 5);\n    setClosestList(nearby);\n  };\n\n  // national history museum map\n  const localPosition = [972, 1982]; // north, east\n  const localMapBounds = MED_MAP_BOUNDS;\n  const localMap = (\n    <Map\n      center={point}\n      zoom={1}\n      minZoom={-2}\n      maxZoom={2}\n      style={{ height: height ? height : 300, width: \"100%\" }}\n      onClick={handleMapClick}\n      crs={L.CRS.Simple}\n    >\n      <ImageOverlay alt=\"local map\" url={PNG_MAP} bounds={localMapBounds} />\n      <Markers\n        points={[point]}\n        labels={[`${Math.round(point[0])} ${Math.round(point[1])}`]}\n        icons={[MainIcon(\"arrow\", 40)]}\n        alwaysOpenPopup\n      />\n      <Markers points={pins} labels={lbls} />\n    </Map>\n  );\n\n  return localMap;\n};\n\nexport default LeafletMap;\n","// calculates by grid distance\n// takes objects with lat and lng\n// returns closest objects by indices\nexport const Nearby = (first, others) => {\n  let output = others.map((v, i) => {\n    let dist;\n    if (Array.isArray(first)) {\n      dist = Math.sqrt(\n        Math.pow(first[0] - v[0], 2) + Math.pow(first[1] - v[1], 2)\n      );\n    } else\n      dist = Math.sqrt(\n        Math.pow(first.lat - v.lat, 2) + Math.pow(first.lng - v.lng, 2)\n      );\n    return { index: i, value: dist };\n  });\n\n  output.sort((x, y) => (x.value > y.value ? 1 : x.value === y.value ? 0 : -1));\n  return output.map(v => v.index);\n};\n","import React, { useState } from \"react\";\n\n// styles\nimport styles from \"./index.module.css\";\n\n// components\nimport LeafletMap from \"./components/LeafletMap\";\n\nexport default ({ data, children }) => {\n  return (\n    <div className={styles.main}>\n      <div className={styles.map}>\n        <LeafletMap height=\"100%\" />\n      </div>\n\n      {<div style={{ zIndex: 2, pointerEvents: \"none\" }}>{children}</div>}\n    </div>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\n\n// styles\nimport styles from \"./index.module.css\";\n\nconst Card = ({ text, onExit, blurOnButtonOnly, hideExitButton, children }) => {\n  const cardDivRef = useRef(null);\n\n  const exitCard = e => {\n    // where is the user clicking?\n    // console.log(\"related\");\n    // console.log(e.relatedTarget);\n    // console.log(\"current\");\n    // console.log(e.currentTarget);\n    // console.log(\"all target\");\n    // console.log(e.target);\n\n    if (e.currentTarget) {\n      if (e.currentTarget.tagName === \"BUTTON\") {\n        onExit();\n      }\n    }\n\n    if (e.relatedTarget) {\n      const className = e.relatedTarget.className.split(\" \")[0];\n\n      //console.log(className);\n      if (className === \"leaflet-container\" && !blurOnButtonOnly) {\n        onExit();\n      }\n    }\n  };\n\n  useEffect(() => {\n    cardDivRef.current.focus();\n  }, []);\n\n  return (\n    <div\n      ref={cardDivRef}\n      className={styles.card}\n      tabIndex=\"-1\"\n      onBlur={exitCard}\n    >\n      {hideExitButton ? null : (\n        <div className={styles.buttonDiv}>\n          <button className={styles.exitButton} onClick={exitCard}>\n            X\n          </button>\n        </div>\n      )}\n\n      {text}\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Webcam from \"react-webcam\";\n\nimport styles from \"./index.module.css\";\n\nconst WebcamComponent = ({ onRef }) => {\n  const webcamRef = useRef();\n  const [cameraReady, setCameraReady] = useState(false);\n  const setupCamera = async () => {\n    // MDN: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      const e1 =\n        \"Browser API navigator.mediaDevices.getUserMedia not available\";\n      this.setState({ error_messages: e1 });\n      throw e1;\n    }\n\n    const video = webcamRef.current.video;\n    video.onloadedmetadata = () => {\n      setCameraReady(true);\n    };\n  };\n\n  useEffect(() => {\n    setupCamera();\n\n    if (cameraReady) {\n      onRef && onRef(webcamRef);\n    }\n  }, [webcamRef, onRef, cameraReady]);\n\n  return (\n    <div className={styles.cameraDiv}>\n      <Webcam audio={false} ref={webcamRef} screenshotFormat=\"image/jpeg\" />\n    </div>\n  );\n};\n\nexport default WebcamComponent;\n","// wiki\n\n/*\nA good indicator that they belong together is that\nthey are used one after another (e.g. setIsError,\nsetIsLoading). Let’s combine all three of them\nwith a Reducer Hook instead.\n*/\n\n// useReducer == do similar things together as a group\n\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\n\nimport styles from \"./index.module.css\";\n\nconst WIKI_URL = query =>\n  `https://en.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${query}&format=json`;\n\n// grouped state\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_INIT\":\n      return {\n        ...state,\n        isLoading: true,\n        error: \"\"\n      };\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        data: action.payload\n      };\n    case \"FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload\n      };\n    default:\n      throw new Error(\"dunno what to do with this condition\");\n  }\n};\n\nconst useFetch = (initialUrl, initialData) => {\n  const INIT = { hits: [] };\n  const [data, setData] = useState(initialData || INIT);\n  const [url, setUrl] = useState(\n    initialUrl || \"http://hn.algolia.com/api/v1/search?query=redux\"\n  );\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    // dataFetchReducer is the action\n    // this here is the initial state\n    isLoading: false,\n    error: \"\",\n    data: initialData\n  });\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_INIT\" });\n\n      try {\n        const result = await axios(url);\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\n        }\n      } catch (e) {\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_FAILURE\", payload: e.message });\n        }\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      // if it unmounts, this returns true\n      // thereby skipping FETCH_SUCCESS / FETCH_FAILURE\n      didCancel = true;\n    };\n  }, [url]);\n\n  const doFetch = url => {\n    setUrl(url);\n  };\n\n  return { ...state, doFetch };\n};\n\nconst FetchAndDisplay = ({ search }) => {\n  const [query, setQuery] = useState(\"redux\");\n  const { data, isLoading, error, doFetch } = useFetch(\n    \"https://hn.algolia.com/api/v1/search?query=redux\",\n    { hits: [] }\n  );\n\n  const LoadingOrEror = () => {\n    if (!isLoading && !error) {\n      return null;\n    } else if (isLoading && !error) {\n      return <div>Loading...</div>;\n    } else if (error) {\n      return <div style={{ color: \"red\" }}>{error}</div>;\n    } else {\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    // TODO: currently simplifying search\n    doFetch(WIKI_URL(search.split(\" \")[0]));\n  }, [search]);\n\n  return (\n    <>\n      <div className={styles.loadingOrError}>\n        <LoadingOrEror />\n      </div>\n\n      <p>{data[2]}</p>\n\n      {/* <ul>{JSON.stringify(data)}</ul> */}\n    </>\n  );\n\n  return (\n    <>\n      <form\n        style={{ width: \"100%\" }}\n        onSubmit={e => {\n          e.preventDefault();\n          doFetch(WIKI_URL(query));\n        }}\n      >\n        <input\n          className={styles.input}\n          type=\"text\"\n          value={search || query}\n          onChange={e => setQuery(e.target.value)}\n        />\n        <button className={styles.submit} type=\"Submit\">\n          Search\n        </button>\n      </form>\n\n      <div className={styles.loadingOrError}>\n        <LoadingOrEror />\n      </div>\n\n      <ul>\n        {data.hits.map(item => (\n          <li key={item.objectID}>\n            <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\n              {item.title}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default FetchAndDisplay;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport * as tf from \"@tensorflow/tfjs\";\n\nimport { useInterval } from \"../../useHooks\";\nimport Information from \"../Information\";\n\n// context api\nimport { MainContext } from \"../../../App\";\n\nconst SCALE = 1;\nconst RGB_SCALE = 0.02;\nconst MODEL = \"assets/models/indoor-gps/model.json\";\nconst CLASSES = \"assets/models/indoor-gps/class_names.txt\";\n\nconst loadModel = async () => {\n  // in public folder\n  console.log(\n    \"INFO: model has to be places in public folder to be accessible.\"\n  );\n  return await tf.loadLayersModel(MODEL);\n};\n\nconst preprocess = imgData => {\n  return tf.tidy(() => {\n    // convert img to tensor\n    let tensor = tf.browser.fromPixels(imgData); // second input is optional number of channels\n\n    // resize to 28 x 28\n    const resized = tf.image.resizeBilinear(tensor, [299, 299]).toFloat();\n\n    // normalize\n    const offset = tf.scalar(255.0);\n    // sub == subtract\n    // normalized 0 to 1\n    const normalized = resized.div(offset); // resized divided by offset\n    const normalized2 = normalized.sub(tf.scalar(0.5));\n    const normalized3 = normalized2.mul(tf.scalar(2.0));\n    // we add a dimension to get a batch shape (??)\n    const batched = normalized3.expandDims(0);\n\n    return batched;\n  });\n};\n\nconst Predictor = ({ videoRef, onPrediction }) => {\n  const [predictor, setPredictor] = useState();\n  const [classes, setClasses] = useState();\n  useEffect(() => {\n    const load = async () => {\n      const model = await loadModel();\n      const classes = await fetch(CLASSES)\n        .then(r => r.text())\n        .then(s => {\n          const allLines = s.split(/\\r\\n|\\n/);\n          return allLines.filter(v => v.length > 1);\n        });\n\n      setPredictor(model);\n      setClasses(classes);\n    };\n\n    load();\n  }, []);\n\n  // the thing that runs stuff along on video stream\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [detectionDelay, setDetectionDelay] = useState(500);\n  useInterval(\n    () => {\n      detect();\n    },\n    isDetecting ? detectionDelay : null\n  );\n\n  const [guesses, setGuesses] = useState([]);\n  const [topGuess, setTopGuess] = useState(\"\");\n  const appState = useContext(MainContext);\n  const detect = async () => {\n    if (videoRef) {\n      let context;\n      const video = videoRef.current.video;\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = video.videoWidth * SCALE;\n      canvas.height = video.videoHeight * SCALE;\n\n      context = canvas.getContext(\"2d\");\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n      const processed = preprocess(canvas);\n      const pred = predictor.predict(processed).dataSync();\n\n      let predictions = Object.values(pred).map((v, i) => {\n        return { index: i, value: v };\n      });\n\n      predictions = predictions.sort((x, y) =>\n        x.value > y.value ? 1 : x.value === y.value ? 0 : -1\n      );\n\n      //console.log(\"sorted predictions\");\n      //console.log(predictions.slice(0, 10));\n\n      predictions = predictions.reverse();\n\n      //console.log(\"reverse sorted predictions\");\n      //console.log(predictions.slice(0, 10));\n\n      let classes = predictions.map(\n        v => getClassNames([v.index])[0] + ` (${v.index + 1})`\n      );\n\n      let dinos = predictions.map(v => getClassNames([v.index])[0]);\n\n      //console.log(\"top 5\");\n      //console.log(classes.slice(0, 5));\n      //console.log(\"top 1\");\n      //console.log(classes[0]);\n      console.log(predictions.slice(0, 5));\n\n      setGuesses([dinos.slice(0, 5)]);\n      setTopGuess(dinos[0]);\n      if (onPrediction) onPrediction(dinos[0]);\n      appState.setSearch(dinos[0]);\n    }\n  };\n\n  const getClassNames = indices => {\n    var outp = [];\n    for (var i = 0; i < indices.length; i++) outp[i] = classes[indices[i]];\n    return outp;\n  };\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <button\n        style={{ backgroundColor: isDetecting ? \"red\" : \"lightgrey\" }}\n        onClick={() => setIsDetecting(!isDetecting)}\n      >\n        toggle detection\n      </button>\n      <br />\n      {/* {guesses} */}\n      <div style={{ height: 100, overflowY: \"scroll\" }}>\n        <Information search={topGuess} />\n      </div>\n    </div>\n  );\n};\n\nexport default Predictor;\n","import { useState, useEffect, useRef } from \"react\";\nimport { csv } from \"d3-fetch\";\nimport axios from \"axios\";\n\nexport const useCsvData = initialFilepath => {\n  const [data, setData] = useState([]);\n  const loadCsv = f => {\n    csv(f).then(data => {\n      setData(data);\n    });\n  };\n\n  useEffect(() => {\n    if (initialFilepath) {\n      loadCsv(initialFilepath);\n    }\n  }, []);\n\n  const [filepath, setFilepath] = useState();\n\n  useEffect(() => {\n    if (filepath) {\n      loadCsv(filepath);\n    }\n  }, [filepath]);\n\n  return [data, setFilepath];\n};\n\nexport const useWiki = (search = \"dinosaur\") => {\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(search);\n  const [results, setResults] = useState([]);\n\n  useEffect(() => {\n    const WIKI = `https://en.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${query}&format=json`;\n\n    setLoading(true);\n    axios\n      .get(WIKI)\n      .then(data => {\n        setResults(data.data);\n        setLoading(false);\n      })\n      .catch(e => console.log(e));\n  }, [query]);\n\n  return [results, setQuery];\n};\n\nexport const useMultipleWiki = (list = []) => {\n  const promises = list.map(async v => {\n    const searchName = async v => {\n      const r = await axios.get(EXTRACT(v));\n      const page = r.data.query.pages;\n      const pageKey = Object.keys(page)[0];\n      if (pageKey !== -1) {\n        return page[pageKey].extract;\n      } else return false;\n    };\n    const EXTRACT = v =>\n      `https://en.wikipedia.org/w/api.php?format=json&origin=*&action=query&prop=extracts&exintro&explaintext&redirects=1&titles=${v}`;\n    const WIKI = `https://en.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${v}&format=json`;\n\n    const result = await searchName(v);\n    if (!result) return await searchName(v.split(\" \")[0]);\n    return result;\n  });\n\n  const results = Promise.all(promises);\n\n  return results;\n};\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import React from \"react\";\n\n// styles\nimport styles from \"./index.module.css\";\n\nexport const Button = ({ inputs = [\"button\"], onSubmit }) => {\n  if (inputs.length === 1) {\n    // if one button, return one button\n    return (\n      <button\n        className={styles.button}\n        key={inputs[0]}\n        onClick={onSubmit}\n        value={inputs[0]}\n      >\n        {inputs[0]}\n      </button>\n    );\n  }\n\n  const btns = inputs.map((v, i) => {\n    // if multiple buttons, make complex button\n\n    if (i === 0) {\n      return (\n        <button\n          className={styles.buttonLeft}\n          key={i}\n          onClick={onSubmit}\n          value={v}\n        >\n          {v}\n        </button>\n      );\n    } else if (i === inputs.length - 1) {\n      return (\n        <button\n          className={styles.buttonRight}\n          key={i}\n          onClick={onSubmit}\n          value={v}\n        >\n          {v}\n        </button>\n      );\n    } else {\n      return (\n        <button className={styles.button} key={i} onClick={onSubmit} value={v}>\n          {v}\n        </button>\n      );\n    }\n  });\n\n  return <div className={styles.buttonDiv}>{btns}</div>;\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\n\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nimport Slider from \"react-slick\";\n\nexport default class Carousel extends Component {\n  static defaultProps = {\n    minValue: 5,\n    settings: {}\n  };\n  ref = React.createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"touchstart\", this.touchStart);\n    window.addEventListener(\"touchmove\", this.preventTouch, { passive: false });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"touchstart\", this.touchStart);\n    window.removeEventListener(\"touchmove\", this.preventTouch, {\n      passive: false\n    });\n  }\n\n  touchStart(e) {\n    this.firstClientX = e.touches[0].clientX;\n    this.firstClientY = e.touches[0].clientY;\n  }\n\n  preventTouch(e) {\n    const minValue = 5;\n\n    this.clientX = e.touches[0].clientX - this.firstClientX;\n    this.clientY = e.touches[0].clientY - this.firstClientY;\n\n    // turn off vertical scrolling when you start horizontal swipe\n    try {\n      const reactSlickDiv = e.touches[0].target.offsetParent.className;\n\n      if (reactSlickDiv === \"react-slick\") {\n        if (Math.abs(this.clientX) > minValue) {\n          e.preventDefault();\n          e.returnValue = false;\n          return false;\n        }\n      }\n    } catch {\n      if (Math.abs(this.clientX) > minValue) {\n        e.preventDefault();\n        e.returnValue = false;\n        return false;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Slider ref={this.ref} {...this.props.settings}>\n        {this.props.children}\n      </Slider>\n    );\n  }\n}\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport Card from \"../Card\";\nimport Camera from \"../atoms/Camera\";\nimport Predictor from \"../atoms/Predictor\";\nimport Button from \"../atoms/Button\";\nimport Carousel from \"../atoms/Carousel\";\n\nimport { MainContext } from \"../../App\";\nimport { useWiki } from \"../useHooks\";\n\nconst ExploreCard = () => {\n  const appState = useContext(MainContext);\n  const carouselSettings = {\n    arrows: false,\n    infinite: false,\n    slidesToShow: 3,\n    slidesToScroll: 3\n  };\n\n  const nearestLbls =\n    appState.closestList.lbls.length > 0 ? appState.closestList.lbls : [];\n\n  return (\n    <div className={styles.exploreDiv}>\n      <h3>Welcome to the museum!</h3>\n\n      <h4>What's Nearby </h4>\n      <small>tap on the map to see what's nearby!</small>\n      <Carousel settings={carouselSettings}>\n        {nearestLbls.map((v, i) => (\n          <div key={i} className={styles.carouselDiv}>\n            <h5>{v}</h5>\n          </div>\n        ))}\n      </Carousel>\n\n      <h4>Other Things to See</h4>\n      <Carousel settings={carouselSettings}>\n        {appState.dataset.map((v, i) => (\n          <div key={i} className={styles.carouselDiv}>\n            <h5>{v.label}</h5>\n          </div>\n        ))}\n      </Carousel>\n\n      <h4>About the museum</h4>\n      <h4 style={{ margin: 0, padding: 0 }}>\n        Opens 9am - 5pm\n        {/* <span className=\"sparks dotline-extrathick\" style={{ marginRight: 50 }}>\n          OPENS\n        </span>\n        <span className=\"sparks dotline-extrathick\">{`9am {30,60,90,60,100,50,45,20} 5pm`}</span> */}\n      </h4>\n      <small>\n        <p>\n          Established in 1877, the National Museum of Nature and Science boasts\n          one of the richest histories of any museum in Japan. It is Japan's\n          only nationally administered comprehensive science museum, and is a\n          central institute for research in natural history and history of\n          science and technology.{\" \"}\n          <a\n            href=\"https://artsandculture.google.com/partner/national-museum-of-nature-and-science\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            more\n          </a>\n        </p>\n      </small>\n    </div>\n  );\n};\n\nconst DiscoverCard = () => {\n  const [pred, setPred] = useState(\"\");\n  const [videoRef, setVideoRef] = useState();\n\n  const onTakePhoto = dataURI => {\n    console.log(\"ontake photo!\");\n    console.log(dataURI);\n  };\n\n  const onStream = mediaStream => {\n    console.log(\"streaming!\");\n    console.log(mediaStream);\n  };\n\n  useEffect(() => {\n    console.log(videoRef);\n  }, [videoRef]);\n\n  return (\n    <div className={styles.discoverDiv}>\n      <Camera onTakePhoto={onTakePhoto} onRef={setVideoRef} />\n      <br />\n      <p>prediction: {pred}</p>\n      <Predictor videoRef={videoRef} onPrediction={setPred} />\n    </div>\n  );\n};\n\nconst Buttons = ({ inputs, onSubmit }) => {\n  return (\n    <div className={styles.buttonDiv}>\n      <Button inputs={inputs} onSubmit={onSubmit} />\n    </div>\n  );\n};\n\nconst UI = () => {\n  const [currentPage, setCurrentPage] = useState(\"📷\");\n\n  const pages = [\"explore 🔍\", \"📷\"];\n\n  if (currentPage === pages[0]) {\n    return (\n      <Card onExit={() => setCurrentPage(\"main\")} blurOnButtonOnly>\n        <ExploreCard />\n      </Card>\n    );\n  } else if (currentPage === pages[1]) {\n    return (\n      <Card text=\"discover\" onExit={() => setCurrentPage(\"main\")}>\n        <DiscoverCard />\n      </Card>\n    );\n  } else {\n    return (\n      <Buttons inputs={pages} onSubmit={e => setCurrentPage(e.target.value)} />\n    );\n  }\n\n  return;\n};\n\nconst CardLayer = () => {\n  return (\n    <div className={styles.main}>\n      <UI />\n    </div>\n  );\n};\n\nexport default CardLayer;\n","import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\n\n// styles\n//import \"./App.css\";\nimport \"./App.fonts.css\";\nimport \"./App.global.css\";\nimport styles from \"./App.module.css\";\n\n// components\nimport Map from \"./components/Map\";\nimport CardUI from \"./components/UI\";\n\n// import data\nimport tempDataset from \"./dataset/test.json\";\nimport { useCsvData, useWiki, useMultipleWiki } from \"./components/useHooks\";\nimport filepath from \"./dataset/class_coords.csv\";\n\n// contextAPI\nexport const MainContext = React.createContext();\n\nconst App = props => {\n  // load data\n  const [data, setDataFilepath] = useCsvData(filepath);\n  // customer journey\n  // 1. customer detects image (eq: clicks on button)\n  // 2. main location returned, with nearby locations, and description\n\n  const [point, setPoint] = useState([972, 1982]);\n  const [closestList, setClosestList] = useState({ pins: [], lbls: [] });\n  const [photo, setPhoto] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n\n  const label = \"a dinosaur! RAWR\";\n\n  // // test\n  // const [wikiData, setWikiData] = useState();\n  // useEffect(() => {\n  //   const fetchMultiple = async list => {\n  //     const r = await useMultipleWiki(list);\n  //     setWikiData(r);\n  //   };\n\n  //   if (data.length !== 0) {\n  //     const queries = data.map(v => v.label);\n  //     console.log(queries);\n  //     fetchMultiple(queries);\n  //   }\n  // }, [data]);\n\n  // console.log(wikiData);\n\n  const pt = {};\n\n  const appState = {\n    point: point,\n    setPoint: setPoint,\n    closestList: closestList,\n    setClosestList: setClosestList,\n    photo: photo,\n    setPhoto: setPhoto,\n    label: label,\n    dataset: data,\n    search: search,\n    setSearch: setSearch\n  };\n\n  return (\n    <div className={styles.app}>\n      <MainContext.Provider value={appState}>\n        <Map>\n          <CardUI />\n        </Map>\n      </MainContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1vPsL\",\"buttonDiv\":\"Card_buttonDiv__37EMv\",\"exitButton\":\"Card_exitButton__2TqB9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Map_main__QJyVg\",\"map\":\"Map_map__1PYVP\"};"],"sourceRoot":""}