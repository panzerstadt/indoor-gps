{"version":3,"sources":["App.module.css","assets/LeafletMap/maps/map-01-med-cropped.png","components/atoms/Camera/index.module.css","dataset/class_coords.csv","logo.svg","components/UI/index.module.css","assets/LeafletMap/icons sync /^/.//.*/.svg$","assets/LeafletMap/icons/arrow.svg","assets/LeafletMap/icons/grapes.svg","assets/LeafletMap/icons/location-blue.svg","assets/LeafletMap/icons/location-green.svg","assets/LeafletMap/icons/location-red.svg","assets/LeafletMap/icons/tomato.svg","components/atoms/Information/index.module.css","components/atoms/Button/index.module.css","components/Map/utils/Nearby.js","components/Map/Icons/index.js","components/Map/components/LeafletMap.js","components/Map/index.js","components/Card/index.js","components/atoms/Camera/index.js","components/atoms/Information/index.js","components/atoms/Predictor/index.js","components/useHooks/index.js","components/atoms/Button/index.js","components/atoms/Carousel/index.js","components/UI/index.js","App.js","serviceWorker.js","index.js","components/Card/index.module.css","components/Map/index.module.css"],"names":["module","exports","logo","App-logo-spin","logoBG","app","__webpack_require__","p","cameraDiv","main","buttonDiv","carouselMain","carouselDiv","carouselContainer","carouselTitle","carouselDesc","descGradient","discoverDiv","cameraContainer","animatedLogo","spin-animation","map","./arrow.svg","./grapes.svg","./location-blue.svg","./location-green.svg","./location-red.svg","./tomato.svg","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","loadingOrError","infoCard","infoContainer","img","title","text","gradient","button","buttonLeft","buttonRight","Nearby","first","others","output","v","i","index","value","Array","isArray","Math","sqrt","pow","lat","lng","sort","x","y","MainIcon","name","arguments","length","undefined","size","out","iconAnchor","popupAnchor","arrow","L","Icon","iconUrl","require","concat","iconSize","MED_MAP_BOUNDS","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","shadowUrl","Markers","_ref","points","labels","icons","alwaysOpenPopup","openPopup","marker","leafletElement","window","setTimeout","pinLbls","toConsumableArray","react_default","a","createElement","Marker","key","position","icon","ref","Popup","closestObjects","point","appState","count","dataPos","dataset","closestObjs","slice","pins","lbls","label","LeafletMap","props","nearby","height","useContext","MainContext","setPoint","setClosestList","_useState","useState","_useState2","slicedToArray","setPins","_useState3","_useState4","setLbls","useEffect","_closestObjects","_useState5","_useState6","mainLbl","setMainLbl","search","updatedLabel","_findLocationFromObje","filter","findLocationFromObject","handleUpdateLocation","localMapBounds","Map","center","zoom","minZoom","maxZoom","style","width","onClick","pt","latlng","crs","CRS","Simple","ImageOverlay","alt","url","PNG_MAP","bounds","LeafletMap_Markers","components_Map","data","children","className","styles","components_LeafletMap","zIndex","pointerEvents","Card","onExit","blurOnButtonOnly","hideExitButton","cardDivRef","useRef","exitCard","currentTarget","tagName","relatedTarget","split","current","focus","card","tabIndex","onBlur","exitButton","WebcamComponent","onRef","webcamRef","cameraReady","setCameraReady","setupCamera","_ref2","asyncToGenerator","regenerator_default","mark","_callee","e1","wrap","_context","prev","next","navigator","mediaDevices","getUserMedia","Camera_this","setState","error_messages","video","onloadedmetadata","stop","this","apply","react_webcam_default","audio","screenshotFormat","dataFetchReducer","state","action","type","objectSpread","isLoading","error","payload","useFetch","initialUrl","initialData","setUrl","_useReducer","useReducer","_useReducer2","dispatch","didCancel","result","axios","sent","t0","message","fetchData","doFetch","WikiSearch","onSuccess","objectWithoutProperties","_useFetch","display","color","WikiImage","_ref3","_ref3$thumbnailSize","thumbnailSize","_useFetch2","src","setSrc","response","query","pages","d","thumbnail","source","InformationCard","_ref4","_ref4$showImage","showImage","dinoSearch","_useState7","_useState8","wikiPage","setWikiPage","_useState9","_useState10","href","target","Information_WikiImage","Information_WikiSearch","wikiPageTitle","loadModel","onProgress","savedModel","model","tf","abrupt","console","log","save","_x","preprocess","imgData","tensor","fromPixels","resized","resizeBilinear","toFloat","offset","div","sub","mul","expandDims","Predictor","videoRef","onLoaded","onTrigger","predictor","setPredictor","classes","setClasses","progress","setProgress","handleProgress","_callee2","_context2","fetch","then","r","s","load","isDetecting","setIsDetecting","detectionDelay","callback","delay","savedCallback","setInterval","clearInterval","useInterval","detect","_useState11","_useState12","setGuesses","_useState13","_useState14","setTopGuess","_ref5","_callee3","canvas","processed","pred","predictions","dinos","top5","top","_context3","document","videoWidth","videoHeight","getContext","drawImage","predict","dataSync","values","reverse","getClassNames","score","setSearch","indices","outp","toFixed","Button","_ref$inputs","inputs","onSubmit","btns","Carousel","React","createRef","addEventListener","touchStart","preventTouch","passive","removeEventListener","firstClientX","touches","clientX","firstClientY","clientY","offsetParent","abs","preventDefault","returnValue","_unused","lib_default","assign","settings","Component","defaultProps","minValue","ExploreCard","carouselSettings","arrows","infinite","slidesToShow","slidesToScroll","nearestLbls","setNearestLbls","closestList","exploreDiv","Carousel_Carousel","Information","defineProperty","margin","padding","rel","DiscoverCard","setPred","setVideoRef","ready","setReady","triggerPrediction","setTriggerPrediction","border","px","animatedBorder","Camera","onTakePhoto","dataURI","atoms_Predictor","Buttons","atoms_Button","UI","currentPage","setCurrentPage","components_Card","UI_ExploreCard","UI_DiscoverCard","UI_Buttons","CardLayer","UI_UI","createContext","App","_useCsvData","initialFilepath","setData","loadCsv","f","csv","filepath","setFilepath","useCsvData","_useCsvData2","photo","setPhoto","Provider","components_UI","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.2b1f3bb8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"App_logo__30VG7\",\"App-logo-spin\":\"App_App-logo-spin__qJ1EI\",\"logoBG\":\"App_logoBG__2thSm\",\"app\":\"App_app__1XhhN\"};","module.exports = __webpack_public_path__ + \"static/media/map-01-med-cropped.eb12cece.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cameraDiv\":\"Camera_cameraDiv__Kglyi\"};","module.exports = __webpack_public_path__ + \"static/media/class_coords.05c81209.csv\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"UI_main__XVD77\",\"buttonDiv\":\"UI_buttonDiv__3FU_B\",\"carouselMain\":\"UI_carouselMain__jGyDP\",\"carouselDiv\":\"UI_carouselDiv__2XtUN\",\"carouselContainer\":\"UI_carouselContainer__Cd2gj\",\"carouselTitle\":\"UI_carouselTitle__2wkix\",\"carouselDesc\":\"UI_carouselDesc__22Xm-\",\"descGradient\":\"UI_descGradient__R5M68\",\"discoverDiv\":\"UI_discoverDiv__2xFvL\",\"cameraContainer\":\"UI_cameraContainer__iMyay\",\"animatedLogo\":\"UI_animatedLogo__BNlTa\",\"spin-animation\":\"UI_spin-animation__2U3eC\"};","var map = {\n\t\"./arrow.svg\": 144,\n\t\"./grapes.svg\": 145,\n\t\"./location-blue.svg\": 146,\n\t\"./location-green.svg\": 147,\n\t\"./location-red.svg\": 148,\n\t\"./tomato.svg\": 149\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 143;","module.exports = __webpack_public_path__ + \"static/media/arrow.7f41c8e0.svg\";","module.exports = __webpack_public_path__ + \"static/media/grapes.11be6a40.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-blue.42d5da8a.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-green.fc82852f.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-red.6c8c363d.svg\";","module.exports = __webpack_public_path__ + \"static/media/tomato.ba199f9c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingOrError\":\"Information_loadingOrError__2ZQqc\",\"infoCard\":\"Information_infoCard__2XeQ0\",\"infoContainer\":\"Information_infoContainer__1Z1d9\",\"img\":\"Information_img__1y_O_\",\"title\":\"Information_title__3v2lV\",\"text\":\"Information_text__bujKN\",\"gradient\":\"Information_gradient__UEyKd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonDiv\":\"Button_buttonDiv__994C-\",\"button\":\"Button_button__xwqJU\",\"buttonLeft\":\"Button_buttonLeft__2lenD Button_button__xwqJU\",\"buttonRight\":\"Button_buttonRight__14hzO Button_button__xwqJU\"};","// calculates by grid distance\n// takes objects with lat and lng\n// returns closest objects by indices\nexport const Nearby = (first, others) => {\n  let output = others.map((v, i) => {\n    let dist;\n    if (Array.isArray(first)) {\n      dist = Math.sqrt(\n        Math.pow(first[0] - v[0], 2) + Math.pow(first[1] - v[1], 2)\n      );\n    } else\n      dist = Math.sqrt(\n        Math.pow(first.lat - v.lat, 2) + Math.pow(first.lng - v.lng, 2)\n      );\n    return { index: i, value: dist };\n  });\n\n  output.sort((x, y) => (x.value > y.value ? 1 : -1));\n\n  return output;\n\n  return output.map(v => v.index);\n};\n","import L from \"leaflet\";\n\nconst size = 30;\n\nexport const MainIcon = (name = \"tomato\", size) => {\n  let out = {\n    iconAnchor: [],\n    popupAnchor: []\n  };\n\n  const fruit = name === \"tomato\" || name === \"grapes\";\n  const arrow = name === \"arrow\";\n\n  if (fruit) {\n    out.iconAnchor = [0, size];\n    out.popupAnchor = [0.5 * size, -size];\n  } else if (arrow) {\n    out.iconAnchor = [size, size];\n    out.popupAnchor = [-0.5 * size, -size];\n  } else {\n    out.iconAnchor = [0.5 * size, size];\n    out.popupAnchor = [0, -size];\n  }\n\n  return new L.Icon({\n    iconUrl: require(`../../../assets/LeafletMap/icons/${name}.svg`),\n\n    iconSize: [size, size],\n    iconAnchor: out.iconAnchor,\n    popupAnchor: out.popupAnchor\n  });\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Map, Marker, Popup, TileLayer, ImageOverlay } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n// styles\nimport \"../styles/leaflet.css\";\n\n// context api\nimport { MainContext } from \"../../../App\";\n\n// components\nimport { Nearby } from \"../utils/Nearby\";\nimport { MainIcon } from \"../Icons/index\";\n\n// image\nimport PNG_MAP from \"../../../assets/LeafletMap/maps/map-01-med-cropped.png\";\nconst LRG_MAP_BOUNDS = [[0, 0], [100, 400]];\nconst MED_MAP_BOUNDS = [[0, 0], [2500, 2738]];\n\n// the bug where the pins don't show\n// https://github.com/PaulLeCam/react-leaflet/issues/453\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\")\n});\n\nconst Markers = ({ points, labels, icons, alwaysOpenPopup }) => {\n  const openPopup = marker => {\n    if (marker && marker.leafletElement && alwaysOpenPopup) {\n      window.setTimeout(() => {\n        marker.leafletElement.openPopup();\n      });\n    }\n  };\n\n  if (!points || points.length === 0) return null;\n\n  if (points[0].length !== 2) {\n    throw \"points are not in an array of [lat, lng], cannot create Marker!\";\n  }\n\n  const pinLbls = labels\n    ? labels\n    : [...Array(points.length)].map(() => \"label\");\n\n  if (icons) {\n    return points.map((p, i) => (\n      <Marker key={i} position={p} icon={icons[i]} ref={openPopup}>\n        <Popup>{pinLbls[i]}</Popup>\n      </Marker>\n    ));\n  } else {\n    return points.map((p, i) => (\n      <Marker key={i} position={p} ref={openPopup}>\n        <Popup>{pinLbls[i]}</Popup>\n      </Marker>\n    ));\n  }\n};\n\nconst closestObjects = (point, appState, count = 3) => {\n  // TODO: CLOSEST OBJECTS SEEM TO BE CALCULATING THE WRONG DISTANCES\n  const dataPos = appState.dataset.map(v => [v.x, v.y]);\n  const closest = Nearby(point, dataPos);\n  const closestIndices = closest.map(v => v.index);\n  const topN = closestIndices.slice(0, count);\n\n  // TODO: holy shit i shall leave this here\n  // to remind mysel of how stupidly convoluted\n  // i write this previously\n  // -----------------------------------------\n  // const closestObjs = appState.dataset.filter(\n  //   (v, i) => topN.filter(w => w === i).length > 0\n  // );\n\n  const closestObjs = topN.map(index => appState.dataset[index]);\n  const closestPins = closestObjs.map(v => [v.x, v.y]);\n  const closestLbls = closestObjs.map(v => v.label);\n\n  const output = { pins: closestPins, lbls: closestLbls };\n\n  return output;\n};\n\nconst findLocationFromObject = (name, appState) => {\n  const output = appState.dataset.filter(v => v.label === name)[0];\n\n  return { lat: output.x, lng: output.y };\n};\n\nconst findObjectFromLocation = (loc, appState) => {\n  console.log(loc);\n  console.log(appState.dataset);\n  const locs = appState.dataset.map(v => [parseInt(v.x), parseInt(v.y)]);\n  const t = Nearby(loc, locs);\n  console.log(t);\n};\n\nconst LeafletMap = props => {\n  let nearby;\n  const { height } = props;\n\n  const appState = useContext(MainContext);\n\n  const { point, setPoint } = appState;\n  const { setClosestList } = appState;\n\n  // markers\n  // assumes one point as input\n  const [pins, setPins] = useState([]);\n  const [lbls, setLbls] = useState([]);\n  useEffect(() => {\n    const { pins, lbls } = closestObjects(point, appState, 5);\n    setPins(pins);\n    setLbls(lbls);\n  }, [point]);\n\n  // didmount\n  useEffect(() => {\n    setClosestList({ pins, lbls });\n  }, [pins, lbls]);\n\n  // CNN assisted geolocation\n  const [mainLbl, setMainLbl] = useState(\"tap anywhere!\");\n  useEffect(() => {\n    const handleUpdateLocation = () => {\n      const updatedLabel = appState.search;\n\n      const { lat, lng } = findLocationFromObject(updatedLabel, appState);\n      setPoint([lat, lng]);\n\n      nearby = closestObjects([lat, lng], appState, 5);\n      setClosestList(nearby);\n\n      setMainLbl(updatedLabel);\n    };\n\n    if (appState.search !== \"\") {\n      handleUpdateLocation();\n    }\n  }, [appState.search]);\n\n  // manual geolocation\n  const handleMapClick = e => {\n    //alert(\"clicked! at \" + e.latlng.lat + \" \" + e.latlng.lng);\n    const pt = [e.latlng.lat, e.latlng.lng];\n    setPoint(pt);\n\n    nearby = closestObjects([e.latlng.lat, e.latlng.lng], appState, 5);\n    setClosestList(nearby);\n\n    setMainLbl(\"see what's nearby!\");\n  };\n\n  // national history museum map\n  const localPosition = [972, 1982]; // north, east\n  const localMapBounds = MED_MAP_BOUNDS;\n  return (\n    <Map\n      center={point}\n      zoom={1}\n      minZoom={-2}\n      maxZoom={2}\n      style={{ height: height ? height : 300, width: \"100%\" }}\n      onClick={handleMapClick}\n      crs={L.CRS.Simple}\n    >\n      <ImageOverlay alt=\"local map\" url={PNG_MAP} bounds={localMapBounds} />\n\n      {/* main marker */}\n      <Markers\n        points={[point]}\n        labels={[mainLbl]}\n        //labels={[`${Math.round(point[0])} ${Math.round(point[1])}`]}\n        icons={[MainIcon(\"arrow\", 40)]}\n        alwaysOpenPopup\n      />\n\n      {/* nearby markers */}\n      <Markers points={pins} labels={lbls} />\n    </Map>\n  );\n};\n\nexport default LeafletMap;\n","import React, { useState } from \"react\";\n\n// styles\nimport styles from \"./index.module.css\";\n\n// components\nimport LeafletMap from \"./components/LeafletMap\";\n\nexport default ({ data, children }) => {\n  return (\n    <div className={styles.main}>\n      <div className={styles.map}>\n        <LeafletMap height=\"100%\" />\n      </div>\n\n      {<div style={{ zIndex: 2, pointerEvents: \"none\" }}>{children}</div>}\n    </div>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\n\n// styles\nimport styles from \"./index.module.css\";\n\nconst Card = ({ text, onExit, blurOnButtonOnly, hideExitButton, children }) => {\n  const cardDivRef = useRef(null);\n\n  const exitCard = e => {\n    // where is the user clicking?\n    // console.log(\"related\");\n    // console.log(e.relatedTarget);\n    // console.log(\"current\");\n    // console.log(e.currentTarget);\n    // console.log(\"all target\");\n    // console.log(e.target);\n\n    if (e.currentTarget) {\n      if (e.currentTarget.tagName === \"BUTTON\") {\n        onExit();\n      }\n    }\n\n    if (e.relatedTarget) {\n      const className = e.relatedTarget.className.split(\" \")[0];\n\n      //console.log(className);\n      if (className === \"leaflet-container\" && !blurOnButtonOnly) {\n        onExit();\n      }\n    }\n  };\n\n  useEffect(() => {\n    cardDivRef.current.focus();\n  }, []);\n\n  return (\n    <div\n      ref={cardDivRef}\n      className={styles.card}\n      tabIndex=\"-1\"\n      onBlur={exitCard}\n    >\n      {hideExitButton ? null : (\n        <div className={styles.buttonDiv}>\n          <button className={styles.exitButton} onClick={exitCard}>\n            X\n          </button>\n        </div>\n      )}\n\n      {text}\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Webcam from \"react-webcam\";\n\nimport styles from \"./index.module.css\";\n\nconst WebcamComponent = ({ onRef }) => {\n  const webcamRef = useRef();\n  const [cameraReady, setCameraReady] = useState(false);\n  const setupCamera = async () => {\n    // MDN: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      const e1 =\n        \"Browser API navigator.mediaDevices.getUserMedia not available\";\n      this.setState({ error_messages: e1 });\n      throw e1;\n    }\n\n    const video = webcamRef.current.video;\n    video.onloadedmetadata = () => {\n      setCameraReady(true);\n    };\n  };\n\n  useEffect(() => {\n    setupCamera();\n\n    if (cameraReady) {\n      onRef && onRef(webcamRef);\n    }\n  }, [webcamRef, onRef, cameraReady]);\n\n  return (\n    <div className={styles.cameraDiv}>\n      <Webcam audio={false} ref={webcamRef} screenshotFormat=\"image/jpeg\" />\n    </div>\n  );\n};\n\nexport default WebcamComponent;\n","// wiki\n\n/*\nA good indicator that they belong together is that\nthey are used one after another (e.g. setIsError,\nsetIsLoading). Letâ€™s combine all three of them\nwith a Reducer Hook instead.\n*/\n\n// useReducer == do similar things together as a group\n\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\n\nimport styles from \"./index.module.css\";\n\n// grouped state\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_INIT\":\n      return {\n        ...state,\n        isLoading: true,\n        error: \"\"\n      };\n      break;\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        data: action.payload\n      };\n      break;\n    case \"FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload\n      };\n      break;\n    default:\n      throw new Error(\"dunno what to do with this condition\");\n  }\n};\n\nexport const useFetch = (initialUrl, initialData) => {\n  const [data, setData] = useState(initialData || null);\n  const [url, setUrl] = useState(initialUrl);\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    // dataFetchReducer is the action\n    // this here is the initial state\n    isLoading: false,\n    error: \"\",\n    data: initialData\n  });\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_INIT\" });\n\n      try {\n        const result = await axios(url);\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\n        }\n      } catch (e) {\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_FAILURE\", payload: e.message });\n        }\n      }\n    };\n\n    if (url) {\n      fetchData();\n    }\n\n    return () => {\n      // if it unmounts, this returns true\n      // thereby skipping FETCH_SUCCESS / FETCH_FAILURE\n      didCancel = true;\n    };\n  }, [url]);\n\n  const doFetch = url => {\n    setUrl(url);\n  };\n\n  return { ...state, doFetch };\n};\n\nconst WikiSearch = ({ search, onSuccess, ...props }) => {\n  const WIKI_URL = query =>\n    `https://en.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${query}&format=json`;\n\n  const { data, isLoading, error, doFetch } = useFetch();\n\n  const LoadingOrEror = () => {\n    if (!isLoading && !error) {\n      return null;\n    } else if (isLoading && !error) {\n      return <div>Loading...</div>;\n    } else if (error) {\n      return <div style={{ color: \"red\" }}>{error}</div>;\n    } else {\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    doFetch(WIKI_URL(search));\n  }, [search]);\n\n  useEffect(() => {\n    if (data) {\n      if (onSuccess) onSuccess(data);\n    }\n  }, [data]);\n\n  //console.log(data && data[1] && data[1][0]);\n\n  return (\n    <div {...props}>\n      <div\n        className={styles.loadingOrError}\n        style={{ display: !isLoading && !error ? \"none\" : \"block\" }}\n      >\n        <LoadingOrEror />\n      </div>\n      {data && data[2]}\n    </div>\n  );\n};\n\nconst WikiImage = ({ search, onSuccess, thumbnailSize = 300, ...props }) => {\n  const WIKI_IMG_URL = query =>\n    `https://en.wikipedia.org/w/api.php?action=query&titles=${query}&prop=pageimages&origin=*&format=json&pithumbsize=${thumbnailSize}`;\n\n  const { data, isLoading, error, doFetch } = useFetch();\n\n  const LoadingOrEror = () => {\n    if (!isLoading && !error) {\n      return null;\n    } else if (isLoading && !error) {\n      return <div>Loading...</div>;\n    } else if (error) {\n      return <div style={{ color: \"red\" }}>{error}</div>;\n    } else {\n      return null;\n    }\n  };\n\n  // effect for fetching data\n  useEffect(() => {\n    if (search) {\n      doFetch(WIKI_IMG_URL(search));\n    }\n  }, [search]);\n\n  // effect for replacing img src\n  const [src, setSrc] = useState(\"#\");\n  useEffect(() => {\n    if (data) {\n      const response = data.query.pages;\n      const k = Object.keys(response)[0];\n      const d = response[k];\n      let out;\n      if (!d.thumbnail) {\n        //out = \"#\";\n        // replacement image?\n      } else {\n        setSrc(d.thumbnail.source);\n        //out = data.thumbnail.source;\n      }\n    }\n  }, [data]);\n\n  return (\n    <div {...props}>\n      <div\n        className={styles.loadingOrError}\n        style={{\n          display: !isLoading && !error ? \"none\" : \"flex\"\n        }}\n      >\n        <LoadingOrEror />\n      </div>\n      <img className={styles.img} src={src} height={100} alt=\"img\" />\n    </div>\n  );\n};\n\nconst InformationCard = ({ search, showImage = false, onClick }) => {\n  const dinoSearch = search.split(\" \")[0];\n  const [wikiPage, setWikiPage] = useState(\"\");\n  const [url, setUrl] = useState(\"#\");\n\n  const handleSearchSuccess = data => {\n    const wikiPageTitle = data && data[1] && data[1][0];\n    setWikiPage(wikiPageTitle);\n    setUrl(data && data[3][0]);\n  };\n\n  return (\n    <a className={styles.infoCard} href={url} target=\"_blank\">\n      {showImage && <WikiImage search={wikiPage} />}\n      <div className={styles.infoContainer}>\n        <h5 className={styles.title}>{search}</h5>\n        <div className={styles.gradient}> </div>\n        <WikiSearch\n          className={styles.text}\n          search={dinoSearch}\n          onSuccess={handleSearchSuccess}\n        />\n      </div>\n    </a>\n  );\n};\n\nexport default InformationCard;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport * as tf from \"@tensorflow/tfjs\";\n\nimport { useInterval } from \"../../useHooks\";\nimport Information from \"../Information\";\n\n// context api\nimport { MainContext } from \"../../../App\";\n\nconst SCALE = 1;\nconst RGB_SCALE = 0.02;\nconst MODEL = \"./assets/models/indoor-gps/model.json\";\nconst CLASSES = \"./assets/models/indoor-gps/class_names.txt\";\n\nconst loadModel = async ({ onProgress }) => {\n  // check for model in localstorage\n  try {\n    const savedModel = await tf.loadLayersModel(\n      \"indexeddb://indoor-gps-model\",\n      { onProgress: onProgress }\n    );\n    onProgress && onProgress(1);\n    return savedModel;\n  } catch (e) {\n    console.log(e);\n    console.log(\n      \"INFO: model has to be places in public folder to be accessible.\"\n    );\n    const model = await tf.loadLayersModel(MODEL, { onProgress: onProgress });\n    await model.save(\"indexeddb://indoor-gps-model\");\n    return model;\n  }\n\n  // in public folder\n};\n\nconst preprocess = imgData => {\n  return tf.tidy(() => {\n    // convert img to tensor\n    let tensor = tf.browser.fromPixels(imgData); // second input is optional number of channels\n\n    // resize to 28 x 28\n    const resized = tf.image.resizeBilinear(tensor, [299, 299]).toFloat();\n\n    // normalize\n    const offset = tf.scalar(255.0);\n    // sub == subtract\n    // normalized 0 to 1\n    const normalized = resized.div(offset); // resized divided by offset\n    const normalized2 = normalized.sub(tf.scalar(0.5));\n    const normalized3 = normalized2.mul(tf.scalar(2.0));\n    // we add a dimension to get a batch shape (??)\n    const batched = normalized3.expandDims(0);\n\n    return batched;\n  });\n};\n\nconst Predictor = ({\n  videoRef,\n  onProgress,\n  onLoaded,\n  onSuccess,\n  onTrigger\n}) => {\n  const [predictor, setPredictor] = useState();\n  const [classes, setClasses] = useState();\n  const [progress, setProgress] = useState(0);\n  const handleProgress = v => {\n    console.log(v);\n    setProgress(v);\n    if (onProgress) onProgress(v);\n  };\n  useEffect(() => {\n    const load = async () => {\n      const model = await loadModel({ onProgress: handleProgress });\n      //console.log(\"model: \", model);\n      const classes = await fetch(CLASSES)\n        .then(r => r.text())\n        .then(s => {\n          const allLines = s.split(/\\r\\n|\\n/);\n          return allLines.filter(v => v.length > 1);\n        });\n      //console.log(\"classes: \", classes);\n\n      setPredictor(model);\n      setClasses(classes);\n      if (onLoaded) onLoaded(true);\n    };\n\n    load();\n  }, []);\n\n  // the thing that runs stuff along on video stream\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [detectionDelay, setDetectionDelay] = useState(300);\n  useInterval(\n    () => {\n      detect();\n    },\n    isDetecting ? detectionDelay : null\n  );\n\n  const [guesses, setGuesses] = useState([]);\n  const [topGuess, setTopGuess] = useState(\"\");\n  const appState = useContext(MainContext);\n  const detect = async () => {\n    if (videoRef) {\n      let context;\n      const video = videoRef.current.video;\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = video.videoWidth * SCALE;\n      canvas.height = video.videoHeight * SCALE;\n\n      context = canvas.getContext(\"2d\");\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n      const processed = preprocess(canvas);\n      const pred = predictor.predict(processed).dataSync();\n\n      let predictions = Object.values(pred).map((v, i) => {\n        return { index: i, value: v };\n      });\n\n      predictions = predictions.sort((x, y) =>\n        x.value > y.value ? 1 : x.value === y.value ? 0 : -1\n      );\n\n      predictions = predictions.reverse();\n\n      let dinos = predictions.map(v => ({\n        label: getClassNames([v.index])[0],\n        score: v.value\n      }));\n\n      const s = dinos[0].score;\n\n      if (s > 0.5) {\n        const top5 = dinos.slice(0, 5).map(v => v.label);\n        const top = dinos[0].label;\n\n        // setstate\n        setGuesses([top5]);\n        setTopGuess(top);\n\n        // send to parent\n        if (onSuccess) onSuccess(top);\n\n        // send to context\n        setTimeout(() => {\n          appState.setSearch(top);\n        }, 1000);\n\n        // end detection loop\n        setIsDetecting(false);\n      }\n\n      // debug\n      //console.log(\"sorted predictions\");\n      //console.log(predictions.slice(0, 10));\n      //console.log(\"reverse sorted predictions\");\n      //console.log(predictions.slice(0, 10));\n\n      // let classes = predictions.map(\n      //   v => getClassNames([v.index])[0] + ` (${v.index + 1})`\n      // );\n      //console.log(\"top 5\");\n      //console.log(classes.slice(0, 5));\n      //console.log(\"top 1\");\n      //console.log(classes[0]);\n      console.log(dinos.slice(0, 5));\n    }\n  };\n  useEffect(() => {\n    if (onTrigger) {\n      setIsDetecting(true);\n    }\n  }, [onTrigger]);\n\n  const getClassNames = indices => {\n    var outp = [];\n    for (var i = 0; i < indices.length; i++) outp[i] = classes[indices[i]];\n    return outp;\n  };\n\n  const readyStateClr = () => {\n    if (progress === 1 && isDetecting) return \"red\";\n    else if (progress === 1 && !isDetecting) return \"#efefef\";\n    else return \"grey\";\n  };\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      {/* <button\n        style={{ backgroundColor: readyStateClr(), textAlign: \"center\" }}\n        onClick={() => (progress === 1 ? setIsDetecting(!isDetecting) : null)}\n      >\n        toggle detection\n      </button>\n      <br /> */}\n      {progress === 1 ? \"\" : `model loading: ${(progress * 100).toFixed(2)}%`}\n    </div>\n  );\n};\n\nexport default Predictor;\n","import { useState, useEffect, useRef } from \"react\";\nimport { csv } from \"d3-fetch\";\nimport axios from \"axios\";\n\nexport const useCsvData = initialFilepath => {\n  const [data, setData] = useState([]);\n  const loadCsv = f => {\n    csv(f).then(data => {\n      setData(data);\n    });\n  };\n\n  useEffect(() => {\n    if (initialFilepath) {\n      loadCsv(initialFilepath);\n    }\n  }, []);\n\n  const [filepath, setFilepath] = useState();\n\n  useEffect(() => {\n    if (filepath) {\n      loadCsv(filepath);\n    }\n  }, [filepath]);\n\n  return [data, setFilepath];\n};\n\nexport const useWiki = (search = \"dinosaur\") => {\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(search);\n  const [results, setResults] = useState([]);\n\n  useEffect(() => {\n    const WIKI = `https://en.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${query}&format=json`;\n\n    setLoading(true);\n    axios\n      .get(WIKI)\n      .then(data => {\n        setResults(data.data);\n        setLoading(false);\n      })\n      .catch(e => console.log(e));\n  }, [query]);\n\n  return [results, setQuery];\n};\n\nexport const useMultipleWiki = (list = []) => {\n  const promises = list.map(async v => {\n    const searchName = async v => {\n      const r = await axios.get(EXTRACT(v));\n      const page = r.data.query.pages;\n      const pageKey = Object.keys(page)[0];\n      if (pageKey !== -1) {\n        return page[pageKey].extract;\n      } else return false;\n    };\n    const EXTRACT = v =>\n      `https://en.wikipedia.org/w/api.php?format=json&origin=*&action=query&prop=extracts&exintro&explaintext&redirects=1&titles=${v}`;\n    const WIKI = `https://en.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${v}&format=json`;\n\n    const result = await searchName(v);\n    if (!result) return await searchName(v.split(\" \")[0]);\n    return result;\n  });\n\n  const results = Promise.all(promises);\n\n  return results;\n};\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import React from \"react\";\n\n// styles\nimport styles from \"./index.module.css\";\n\nexport const Button = ({ inputs = [\"button\"], onSubmit }) => {\n  if (inputs.length === 1) {\n    // if one button, return one button\n    return (\n      <button\n        className={styles.button}\n        key={inputs[0]}\n        onClick={onSubmit}\n        value={inputs[0]}\n      >\n        {inputs[0]}\n      </button>\n    );\n  }\n\n  const btns = inputs.map((v, i) => {\n    // if multiple buttons, make complex button\n\n    if (i === 0) {\n      return (\n        <button\n          className={styles.buttonLeft}\n          key={i}\n          onClick={onSubmit}\n          value={v}\n        >\n          {v}\n        </button>\n      );\n    } else if (i === inputs.length - 1) {\n      return (\n        <button\n          className={styles.buttonRight}\n          key={i}\n          onClick={onSubmit}\n          value={v}\n        >\n          {v}\n        </button>\n      );\n    } else {\n      return (\n        <button className={styles.button} key={i} onClick={onSubmit} value={v}>\n          {v}\n        </button>\n      );\n    }\n  });\n\n  return <div className={styles.buttonDiv}>{btns}</div>;\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\n\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nimport Slider from \"react-slick\";\n\nexport default class Carousel extends Component {\n  static defaultProps = {\n    minValue: 5,\n    settings: {}\n  };\n  ref = React.createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"touchstart\", this.touchStart);\n    window.addEventListener(\"touchmove\", this.preventTouch, { passive: false });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"touchstart\", this.touchStart);\n    window.removeEventListener(\"touchmove\", this.preventTouch, {\n      passive: false\n    });\n  }\n\n  touchStart(e) {\n    this.firstClientX = e.touches[0].clientX;\n    this.firstClientY = e.touches[0].clientY;\n  }\n\n  preventTouch(e) {\n    const minValue = 5;\n\n    this.clientX = e.touches[0].clientX - this.firstClientX;\n    this.clientY = e.touches[0].clientY - this.firstClientY;\n\n    // turn off vertical scrolling when you start horizontal swipe\n    try {\n      const reactSlickDiv = e.touches[0].target.offsetParent.className;\n\n      if (reactSlickDiv === \"react-slick\") {\n        if (Math.abs(this.clientX) > minValue) {\n          e.preventDefault();\n          e.returnValue = false;\n          return false;\n        }\n      }\n    } catch {\n      if (Math.abs(this.clientX) > minValue) {\n        e.preventDefault();\n        e.returnValue = false;\n        return false;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.props.className}>\n        <Slider ref={this.ref} {...this.props.settings}>\n          {this.props.children}\n        </Slider>\n      </div>\n    );\n  }\n}\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport Card from \"../Card\";\nimport Camera from \"../atoms/Camera\";\nimport Predictor from \"../atoms/Predictor\";\nimport Button from \"../atoms/Button\";\nimport Carousel from \"../atoms/Carousel\";\nimport Information, { useFetch } from \"../atoms/Information\";\n\nimport { MainContext } from \"../../App\";\nimport { useWiki } from \"../useHooks\";\n\nconst GREEN = \"#3AB795\";\nconst YELLOW = \"#FFC532\";\nconst GREY = \"#BECEC6\";\n\nconst ExploreCard = () => {\n  const appState = useContext(MainContext);\n  const carouselSettings = {\n    arrows: false,\n    infinite: false,\n    slidesToShow: 3,\n    slidesToScroll: 3\n  };\n\n  const [nearestLbls, setNearestLbls] = useState([]);\n  useEffect(() => {\n    if (appState.closestList.lbls.length > 0) {\n      setNearestLbls(appState.closestList.lbls);\n      console.log(appState.closestList.lbls);\n    }\n  }, [appState.closestList]);\n\n  return (\n    <div className={styles.exploreDiv}>\n      <h3>Welcome to the museum!</h3>\n\n      <h4>What's Nearby </h4>\n      <p\n        style={{\n          display: nearestLbls.length > 0 ? \"none\" : \"block\"\n        }}\n      >\n        tap on the map to see what's nearby!\n      </p>\n      <Carousel settings={carouselSettings} className={styles.carouselMain}>\n        {nearestLbls.map((v, i) => (\n          <div key={i} className={styles.carouselDiv}>\n            <div className={styles.carouselContainer}>\n              <Information search={v} showImage={true} />\n            </div>\n          </div>\n        ))}\n      </Carousel>\n\n      <h4>Try looking for these dinosaurs!</h4>\n      <Carousel settings={carouselSettings}>\n        {appState.dataset.map((v, i) => (\n          <div\n            key={i}\n            className={styles.carouselDiv}\n            className={styles.carouselMain}\n          >\n            <div className={styles.carouselContainer}>\n              <img src=\"#\" alt=\"dino\" height={100} />\n              <h5 className={styles.carouselTitle}>{v.label}</h5>\n            </div>\n          </div>\n        ))}\n      </Carousel>\n\n      <h4>About the museum</h4>\n      <h4 style={{ margin: 0, padding: 0 }}>\n        Opens 9am - 5pm\n        {/* <span className=\"sparks dotline-extrathick\" style={{ marginRight: 50 }}>\n          OPENS\n        </span>\n        <span className=\"sparks dotline-extrathick\">{`9am {30,60,90,60,100,50,45,20} 5pm`}</span> */}\n      </h4>\n      <small>\n        <p>\n          Established in 1877, the National Museum of Nature and Science boasts\n          one of the richest histories of any museum in Japan. It is Japan's\n          only nationally administered comprehensive science museum, and is a\n          central institute for research in natural history and history of\n          science and technology.{\" \"}\n          <a\n            href=\"https://artsandculture.google.com/partner/national-museum-of-nature-and-science\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            more\n          </a>\n        </p>\n      </small>\n    </div>\n  );\n};\n\nconst DiscoverCard = () => {\n  const [pred, setPred] = useState(\"\");\n  const [videoRef, setVideoRef] = useState();\n  const [ready, setReady] = useState(false);\n  const [triggerPrediction, setTriggerPrediction] = useState(false);\n\n  const onTakePhoto = dataURI => {\n    console.log(\"ontake photo!\");\n    console.log(dataURI);\n  };\n\n  const onStream = mediaStream => {\n    console.log(\"streaming!\");\n    console.log(mediaStream);\n  };\n\n  useEffect(() => {\n    //console.log(videoRef);\n  }, [videoRef]);\n\n  const AnimatedLogo = () => {\n    return (\n      <img className={styles.animatedLogo} src=\"#\" height={50} alt=\"find\" />\n    );\n  };\n\n  const animatedBorder = (px = 10) => {\n    if (ready && !triggerPrediction) return `${px}px solid ${GREEN}`;\n    else if (ready && triggerPrediction) return `${px}px solid ${YELLOW}`;\n    else return `${px}px solid ${GREY}`;\n  };\n\n  return (\n    <div className={styles.discoverDiv}>\n      <div\n        onClick={() => setTriggerPrediction(true)}\n        className={styles.cameraContainer}\n        style={{ border: animatedBorder() }}\n      >\n        <Camera onTakePhoto={onTakePhoto} onRef={setVideoRef} />\n      </div>\n      {/* <AnimatedLogo /> */}\n\n      <code>prediction: {pred}</code>\n      <Predictor\n        videoRef={videoRef}\n        onTrigger={triggerPrediction}\n        onSuccess={p => {\n          setPred(p);\n          setTriggerPrediction(false);\n        }}\n        onLoaded={setReady}\n      />\n    </div>\n  );\n};\n\nconst Buttons = ({ inputs, onSubmit }) => {\n  return (\n    <div className={styles.buttonDiv}>\n      <Button inputs={inputs} onSubmit={onSubmit} />\n    </div>\n  );\n};\n\nconst UI = () => {\n  const pages = [\"explore ðŸ”\", \"ðŸ“·\"];\n  const appState = useContext(MainContext);\n  const [currentPage, setCurrentPage] = useState(pages[0]);\n\n  const handlePageTransition = () => {\n    // TODO: smooth slide out/in/fade transition\n  };\n\n  useEffect(() => {\n    setCurrentPage(pages[0]);\n  }, [appState.search]);\n\n  if (currentPage === pages[0]) {\n    return (\n      <Card onExit={() => setCurrentPage(\"main\")} blurOnButtonOnly>\n        <ExploreCard />\n      </Card>\n    );\n  } else if (currentPage === pages[1]) {\n    return (\n      <Card text=\"discover\" onExit={() => setCurrentPage(\"main\")}>\n        <DiscoverCard />\n      </Card>\n    );\n  } else {\n    return (\n      <Buttons inputs={pages} onSubmit={e => setCurrentPage(e.target.value)} />\n    );\n  }\n\n  return;\n};\n\nconst CardLayer = () => {\n  return (\n    <div className={styles.main}>\n      <UI />\n    </div>\n  );\n};\n\nexport default CardLayer;\n","import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\n\n// styles\n//import \"./App.css\";\nimport \"./App.fonts.css\";\nimport \"./App.global.css\";\nimport styles from \"./App.module.css\";\n\n// components\nimport Map from \"./components/Map\";\nimport CardUI from \"./components/UI\";\n\n// import data\nimport tempDataset from \"./dataset/test.json\";\nimport { useCsvData, useWiki, useMultipleWiki } from \"./components/useHooks\";\nimport filepath from \"./dataset/class_coords.csv\";\n\n// contextAPI\nexport const MainContext = React.createContext();\n\nconst App = props => {\n  // load data\n  const [data, setDataFilepath] = useCsvData(filepath);\n  // customer journey\n  // 1. customer detects image (eq: clicks on button)\n  // 2. main location returned, with nearby locations, and description\n\n  const [point, setPoint] = useState([972, 1982]);\n  const [closestList, setClosestList] = useState({ pins: [], lbls: [] });\n  const [photo, setPhoto] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n\n  const label = \"a dinosaur! RAWR\";\n\n  // // test\n  // const [wikiData, setWikiData] = useState();\n  // useEffect(() => {\n  //   const fetchMultiple = async list => {\n  //     const r = await useMultipleWiki(list);\n  //     setWikiData(r);\n  //   };\n\n  //   if (data.length !== 0) {\n  //     const queries = data.map(v => v.label);\n  //     console.log(queries);\n  //     fetchMultiple(queries);\n  //   }\n  // }, [data]);\n\n  // console.log(wikiData);\n\n  const pt = {};\n\n  const appState = {\n    point: point,\n    setPoint: setPoint,\n    closestList: closestList,\n    setClosestList: setClosestList,\n    photo: photo,\n    setPhoto: setPhoto,\n    label: label,\n    dataset: data,\n    search: search,\n    setSearch: setSearch\n  };\n\n  return (\n    <div className={styles.app}>\n      <MainContext.Provider value={appState}>\n        <Map>\n          <CardUI />\n        </Map>\n      </MainContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1vPsL\",\"buttonDiv\":\"Card_buttonDiv__37EMv\",\"exitButton\":\"Card_exitButton__2TqB9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Map_main__QJyVg\",\"map\":\"Map_map__1PYVP\"};"],"sourceRoot":""}